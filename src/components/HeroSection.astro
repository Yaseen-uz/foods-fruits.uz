---
import { ArrowDown, Phone } from "lucide-react";
import LanguageSwitcher from "./LanguageSwitcher";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import { headerLinks } from "./data";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
    return [
        { params: { locale: "en" } },
        { params: { locale: "de" } },
        //
    ];
}
const { locale } = Astro.params;
---

<div class="backdrop-blur-lg bg-black/60 fixed top-0 w-full flex items-center justify-center z-[10000]">
    <header class="container mx-auto px-3 py-5 rounded-full">
        <div class="mx-auto">
            <div class="flex items-center justify-between px-3 py-1 !relative z-50">
                <div class="flex items-center justify-center">
                    <a
                        href="#top"
                        title="BakerStreet"
                        class="flex rounded-md focus:outline-none focus:ring-2 focus:ring-offset-4 focus:ring-offset-secondary focus:ring-primary"
                    >
                        <span class="font-serif font-normal text-xl md:text-2xl text-white">Food-Fruits.uz</span>
                    </a>
                </div>

                <div class="hidden md:flex md:items-center md:space-x-10 !py-1 px-5 rounded-md">
                    {
                        headerLinks(t).map((link) => {
                            return (
                                <a
                                    href={link.href}
                                    title=""
                                    class="font-sans text-base font-normal block transition-all duration-200 rounded text-white hover:text-white/50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary focus:ring-offset-secondary"
                                >
                                    {link.title}
                                </a>
                            );
                        })
                    }
                </div>

                <div class="flex items-center gap-3">
                    <LanguageSwitcher client:only />

                    <a href="tel:+998954397101" class="my-0 text-white text-sm md:text-lg flex items-center gap-3 hover:text-white/50 duration-200">
                        <Phone className="h-4 w-4 md:h-5 md:w-5" />
                        <p class="my-0 font-medium italic">+998 95 439-71-01</p>
                    </a>
                </div>
            </div>
        </div>
    </header>
</div>

<div id="main" class="relative bg-white" style={`background-image: url("./bg-cover.webp");   background-repeat: no-repeat; background-size: cover; `}>
    <div class="bg-black/60 min-h-full w-full px-5 !pb-30 !pt-20">
        <div class="h-[100px]"></div>

        <div class="relative">
            <div class="px-6 mx-auto sm:px-8 lg:px-12 max-w-7xl relative my-auto">
                <div class="w-full text-center justify-center">
                    <h1 class="tracking-tighter text-white">
                        <span class="font-serif italic font-bold text-6xl md:text-8xl">
                            {t("Оптовая")}
                            <br />
                            {t("продажа овощей и фруктов")}
                        </span>
                    </h1>

                    <p class="mt-12 font-sans text-base font-normal leading-7 text-white text-opacity-70">
                        {t("Ваш надёжный партнёр в сфере оптовых поставок овощей и фруктов!")}
                    </p>

                    <div class="flex items-center justify-center mt-8 space-x-3 sm:space-x-4">
                        <a
                            href="#contact"
                            class="inline-flex
                  items-center
                  justify-center
                  px-5
                  py-2
                  font-sans
                  text-base
                  font-semibold
                  transition-all
                  duration-200
                  border-2 border-transparent
                  rounded-full
                  sm:leading-8
                  bg-white
                  sm:text-base
                  text-black
                  hover:bg-opacity-90
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-secondary"
                            role="button"
                        >
                            {t("Связаться с нами")}
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <a href="#about" class="absolute bottom-10 left-1/2 transform -translate-x-1/2 flex flex-col items-center animate-bounce">
            <ArrowDown className="h-5 w-5 text-white" />
        </a>
    </div>
</div>
